package web;

import java.sql.Connection;
import java.sql.DriverManager;
import java.sql.PreparedStatement;
import java.sql.Timestamp;

public class BoardDAO {

	public void create(BoardVO boardVo) 
			throws Exception {
		
		String id = boardVo.getId();
		String title = boardVo.getTitle();
		String context = boardVo.getContext();
		
		//1. connector라이브러리 설정
		Class.forName("com.mysql.jdbc.Driver");
		System.out.println("1. 드라이버/커넥터 설정 성공@@@");
		
		//2. db 연결 : 1) ip+port, 2) user+pw, 3)db명(big)
		String url = "jdbc:mysql://localhost:3366/big";
		String user = "root";
		String pass = "1234";
			
		Connection con = DriverManager.getConnection(url, user, pass);

		//3. sql문을 생성
				String sql = "INSERT INTO boards (id, title, rgstdate, context) values(?, ?, now(), ?)";

		PreparedStatement ps = con.prepareStatement(sql);
		ps.setString(1, id);
		ps.setString(2, title);
		ps.setString(3, context);

		
		System.out.println("3. SQL객체 생성 성공.@@@");
				
		//4. 생성한 sql문을 mysql로 보낸다.
		ps.executeUpdate();
		System.out.println("4. SQL문 전송 성공.@@@");
	}
}
